{"remainingRequest":"/Users/luck/shop/admin_web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/luck/shop/admin_web/src/views/config/wx.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/luck/shop/admin_web/src/views/config/wx.vue","mtime":1585976621966},{"path":"/Users/luck/shop/admin_web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luck/shop/admin_web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/luck/shop/admin_web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luck/shop/admin_web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {listWx, updateWx} from '@/api/config'\n\nexport default {\n    name: 'ConfigWx',\n    data() {\n        return {\n            dataForm: {\n                litemall_wx_index_new: 0,\n                litemall_wx_index_hot: 0,\n                litemall_wx_index_brand: 0,\n                litemall_wx_index_topic: 0,\n                litemall_wx_catlog_list: 0,\n                litemall_wx_catlog_goods: 0,\n                litemall_wx_share: false,\n                litemall_wx_share: false,\n                litemall_wx_share: false,\n                litemall_wx_share: false,\n            },\n            rules: {\n                litemall_wx_index_new: [\n                    {required: true, message: '不能为空', trigger: 'blur'}\n                ],\n                litemall_wx_index_hot: [\n                    {required: true, message: '不能为空', trigger: 'blur'}\n                ],\n                litemall_wx_index_brand: [\n                    {required: true, message: '不能为空', trigger: 'blur'}\n                ],\n                litemall_wx_index_topic: [\n                    {required: true, message: '不能为空', trigger: 'blur'}\n                ],\n                litemall_wx_catlog_list: [\n                    {required: true, message: '不能为空', trigger: 'blur'}\n                ],\n                litemall_wx_catlog_goods: [\n                    {required: true, message: '不能为空', trigger: 'blur'}\n                ]\n            }\n        }\n    },\n    created() {\n        this.init()\n    },\n    methods: {\n        init: function () {\n            listWx().then(response => {\n                this.dataForm = response.data.data\n            })\n        },\n        cancel() {\n            this.init()\n        },\n        update() {\n            this.$refs['dataForm'].validate((valid) => {\n                if (!valid) {\n                    return false\n                }\n                this.doUpdate()\n            })\n        },\n        doUpdate() {\n            updateWx(this.dataForm)\n                .then(response => {\n                    this.$notify.success({\n                        title: '成功',\n                        message: '小程序配置成功'\n                    })\n                })\n                .catch(response => {\n                    this.$notify.error({\n                        title: '失败',\n                        message: response.data.errmsg\n                    })\n                })\n        }\n    }\n}\n",null]}